<p-toast />

<div class="admin-login">
  <div class="admin-login__container">
    <div class="admin-login__header">
      <h1 class="admin-login__logo">Davivienda</h1>
      <p class="admin-login__subtitle">Panel de Administración</p>
    </div>

    <p-card class="admin-login__card">
      <ng-template pTemplate="header">
        <div class="admin-login__card-header">
          <i class="pi pi-shield" style="font-size: 3rem; color: var(--red-main)"></i>
          <h2>Iniciar Sesión</h2>
        </div>
      </ng-template>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="admin-login__form">
        <div class="form-field">
          <label for="username" class="form-field__label">Usuario</label>
          <input
            pInputText
            id="username"
            formControlName="username"
            placeholder="Ingrese su usuario"
            [class.ng-invalid]="isFieldInvalid('username')"
            class="form-field__input" />
          
          @if (isFieldInvalid('username')) {
            <small class="form-field__error">
              Usuario es requerido (mínimo 3 caracteres)
            </small>
          }
        </div>

        <div class="form-field">
          <label for="password" class="form-field__label">Contraseña</label>
          <p-password
            id="password"
            formControlName="password"
            placeholder="Ingrese su contraseña"
            [toggleMask]="true"
            [feedback]="false"
            [class.ng-invalid]="isFieldInvalid('password')"
            styleClass="form-field__password" />
          
          @if (isFieldInvalid('password')) {
            <small class="form-field__error">
              Contraseña es requerida (mínimo 6 caracteres)
            </small>
          }
        </div>

        <div class="admin-login__info">
          <i class="pi pi-info-circle"></i>
          <span>Usuario: <strong>admin</strong> | Contraseña: <strong>admin123</strong></span>
        </div>

        <p-button
          type="submit"
          label="Iniciar Sesión"
          icon="pi pi-sign-in"
          [loading]="loading()"
          styleClass="admin-login__button" />
      </form>
    </p-card>
  </div>
</div>

